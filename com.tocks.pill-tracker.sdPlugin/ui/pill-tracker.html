<!DOCTYPE html>
<html>

<head lang="en">
  <title>Pill Tracker Settings</title>
  <meta charset="utf-8" />
  <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
</head>

<body>
  <!-- Property inspector UI for Pill Tracker -->

  <sdpi-item label="Auto Reset at Midnight">
    <sdpi-checkbox setting="autoReset" default="true"></sdpi-checkbox>
  </sdpi-item>

  <sdpi-item label="Manual Reset">
    <sdpi-button id="resetButton">Reset to Red</sdpi-button>
  </sdpi-item>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const resetButton = document.getElementById("resetButton");

      resetButton.addEventListener("click", () => {
        if (window.$SD && $SD.api) {
          $SD.api.setSettings($SD.uuid, { lastPress: null });
        }
      });
    });
  </script>

</body>

</html>
